#!/usr/bin/env ruby

require 'yml_gtranslate'

if ARGV.size != 3 and ARGV.size != 2
    puts "Usage: #{$0} <from_lang> <to_lang> [directory_or_file]"
    puts "       goes thru all *from_lang.yml files in the direcotry, or use specifix file"
    puts "       the default dir is config/locales"
    puts "       eg: #{$0} en de . -> translates all *en.yml to *de.yml files in the current directory"
    puts "       you can use ** for recursively find folders http://ruby-doc.org/core-1.9.3/Dir.html#method-c-glob"
    exit -1
end

from_lang = ARGV[0]
to_lang = ARGV[1]
directory_or_file = ARGV[2] || "config/locales"

puts "Start"
gt = YmlGtranslate::Translator.new(from_lang, to_lang, directory_or_file)
gt.translate_locales
puts "Finish"
